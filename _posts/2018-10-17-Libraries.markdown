---
layout:     post
title:      "é™æ€åº“å’ŒåŠ¨æ€åº“çš„ä¸€äº›è®°å½•"
subtitle:   " \"é™æ€åº“å’ŒåŠ¨æ€åº“çš„ä¸€äº›è®¨è®º\""
date:       2018-10-17 17:00:00
author:     "QD"
header-img: "/img/in-post/Libraries/static_library.png"
catalog: true
tags:
    - å…¶å®ƒ
---

> â€œğŸ˜â€


ä»Šå¤©åŒäº‹é‡åˆ°äº†ä¸€ä¸ªåŠ¨æ€åº“çš„é—®é¢˜ï¼Œå¤§å®¶è®¨è®ºäº†å¾ˆä¹…ã€‚å¾ˆå°´å°¬å•Š é‡åˆ°å¥½å¤šçŸ¥è¯†ç›²åŒºå•Š å…„dei é»˜é»˜çš„æ‹¿å‡ºæˆ‘çš„å°æœ¬æœ¬è®°å½•ä¸€ä¸‹ã€‚

å†³å®šåº”ç”¨æ€§èƒ½çš„æœ€é‡è¦çš„å› ç´ åŒ…æ‹¬2ç‚¹
1.å¯åŠ¨æ—¶é—´
2.è¿è¡Œå†…å­˜ä¸­å ç”¨
å°½å¯èƒ½å‡å°‘å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°å’Œä½¿ç”¨å†…å­˜

å¤§éƒ¨åˆ†æ—¶é—´åŠ¨æ€åº“éƒ½æ˜¯ä¼˜äºé™æ€åº“çš„


## é™æ€åº“
ç°åœ¨æ‰“æˆé™æ€åº“çš„æƒ…å†µè¶Šæ¥è¶Šå°‘äº†ã€‚
éƒ½æ˜¯ç”¨frameworkå½¢å¼æå¾—
åªè¦åœ¨è®¾ç½®çš„åœ°æ–¹æ”¹æˆ
![image.png](https://upload-images.jianshu.io/upload_images/1106106-604aa1d2a3f99743.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![image.png](https://upload-images.jianshu.io/upload_images/1106106-242805653a513902.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å½“æˆ‘ä»¬åº“æ–‡ä»¶æ‰“åŒ…ç”Ÿæˆ *é™æ€é“¾æ¥å™¨*ï¼Œå½“ä¸»ç¨‹åºç¼–è¯‘çš„æ—¶å€™ï¼Œé™æ€åº“ä¼šåŠ è½½åˆ°ä¸»ç¨‹åºçš„æºæ–‡ä»¶ä¸­ã€‚

ä½†è¿™é‡Œ é™æ€åº“ä¼˜äºåŠ¨æ€åº“çš„åœ°æ–¹ï¼Œ *æ‰“å‡ºæ¥ipaåŒ… ä¸€èˆ¬æ¥è¯´ä¼šå°äºåŠ¨æ€åº“çš„ã€‚ å› ä¸ºä¸»ç¨‹åºä¸­ç›¸å…³çš„ç±»ä¼šç¼–è¯‘åŠ è½½åˆ°ä¸»ç¨‹åºã€‚*ä¸ç›¸å…³çš„ä¸ä¼šåŠ è½½ã€‚

**å‘**
`categoty`å¹¶ä¸ä¼šåŠ è½½ã€‚ è¦åŠ è½½category å°±è¦åœ¨`Other Linker Flags`ä¸­åŠ å…¥`-ObjC`æ¥æç¤ºåŠ å…¥ç±»ç›®ã€‚å¦‚æœåªæœ‰ç±»ç›®çš„è¯ï¼Œè¿˜æ˜¯ä¼šåŠ è½½ä¸å‡ºæ¥å°±è¦ä½¿ç”¨`-all_load`åŠ è½½å…¨éƒ¨,æˆ–è€…`-force_load`å¼ºåˆ¶åŠ è½½æŸä¸€ä¸ªã€‚


## åŠ¨æ€åº“


![image.png](https://upload-images.jianshu.io/upload_images/1106106-2ad4274e766d2dd9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


å’Œé™æ€åº“çš„å¯¹æ¯”å¯ä»¥çœ‹å‡º æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ã€‚
1 åŠ è½½åˆ°å¯æ‰§è¡Œç¨‹åºçš„æ˜¯åŠ¨æ€åº“çš„å¼•ç”¨

åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼ŒåŠ¨æ€åº“ä¼šæ”¾åœ¨è¿›ç¨‹çš„å†…å­˜åœ°å€ä¸­ã€‚
è¿™æ ·è¿è¡Œçš„æ—¶å€™ï¼Œå¯æ‰§è¡Œç¨‹åºçš„å†…å­˜å°±ä¼šå¤§å¤§å‡å°ã€‚

ä¸è¿‡å¯¹äºé™æ€åº“çš„ipaåŒ…ã€‚åŠ¨æ€åº“æ˜¯å…¨é‡æ”¾åœ¨ipaåŒ…ä¸­çš„ã€‚å¯èƒ½ipaåŒ…ä¼šå¤§ä¸€ç‚¹ã€‚

è¿˜è¦ä¸€ä¸ªå¾ˆé‡è¦çš„ç‚¹ï¼Œå°±æ˜¯åŠ è½½æ—¶é—´ã€‚
åŠ¨æ€åº“ä¸ä»…ä»…æ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™åŠ è½½ã€‚å¯ä»¥é€‰æ‹©è¿è¡Œæ—¶åŠ è½½ã€‚å¯ä»¥å‡å°‘å†…å­˜ä½¿ç”¨å’Œå¯åŠ¨æ—¶é—´ã€‚



## å¼•å‘è®¨è®ºçš„é—®é¢˜
åŠ¨æ€åº“åœ¨ä¸»ç¨‹åºæ‰“åŒ…çš„æ—¶å€™å‡ºç°äº†`error: Bundle only contains bitcode-marker`
ä½†æ˜¯åœ¨æ¨¡æ‹Ÿå™¨buildçš„æ—¶å€™æ²¡æœ‰é—®é¢˜

å¼•å‘è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯bitcode
1 Xcodeåœ¨è‡ªå·±buildçš„æ—¶å€™æ—¶å€™ä¼šä½¿ç”¨`-fembed-bitcode-marker`Mode
2 åœ¨archive buildå’Œproduction buildçš„æ—¶å€™éœ€è¦ä½¿ç”¨`-fembed-bitcode`

æˆ‘ç”¨é€šè¿‡run buildç”Ÿæˆçš„åŠ¨æ€åŒ…éƒ½æ˜¯ä½¿ç”¨`-fembed-bitcode-marker` åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œæ˜æ˜¾ä¸å¯¹ã€‚
![image.png](https://upload-images.jianshu.io/upload_images/1106106-22c3816c89a1cefa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

è§£å†³æ–¹æ¡ˆï¼š
1 'Other C Flags'  to "-fembed-bitcode"
2 ` Build Settings` ` +` ` user-defined build setting` `BITCODE_GENERATION_MODE`,  Debug to marker, Release to bitcode

3 æˆ–è€…ç¦ç”¨bitcode


## ä¸€äº›é¢å¤–çš„å‘½ä»¤

```
//æŸ¥çœ‹ä¿¡æ¯
lipo -info xxx.framework/xxx 
// åˆå¹¶åº“
lipo -create -output xxx xxx
```


